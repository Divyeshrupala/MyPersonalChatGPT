<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <title>AI ChatBot - Content Studio</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <!-- Mobile Menu Toggle Button -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Sidebar -->
    <div id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-robot"></i>
        </div>
        <h1>AI ChatBot</h1>
      </div>

      <button class="new-chat-btn" id="newChatBtn">
        <i class="fas fa-plus"></i>
        New Chat
      </button>

      <div class="sidebar-section">
        <h3><i class="fas fa-bookmark"></i> Chat History</h3>
        
        <!-- Chat History Controls - Horizontal Layout -->
        <div class="chat-controls-row">
          <button class="chat-control-btn" id="searchChatsBtn" title="Search in chats">
            <i class="fas fa-search"></i>
            <span>Search</span>
          </button>
          <button class="chat-control-btn" id="toggleFiltersBtn" title="Filter chats by AI provider and date">
            <i class="fas fa-filter"></i>
            <span>Filter</span>
          </button>
          <button class="chat-control-btn" id="toggleTimelineBtn" title="Switch between list and timeline view">
            <i class="fas fa-calendar"></i>
            <span>Timeline</span>
          </button>
          <button class="chat-control-btn" id="exportPDFBtn" title="Export all chats as PDF">
            <i class="fas fa-file-pdf"></i>
            <span>Export</span>
          </button>
        </div>

        <!-- Chat Filters -->
        <div id="chatFilters" style="display: none; margin-bottom: 12px; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 6px;">
          <select id="aiProviderFilter" style="width: 100%; margin-bottom: 6px; padding: 4px; border-radius: 4px; font-size: 12px;">
            <option value="">All AI Providers</option>
            <option value="openai">OpenAI GPT</option>
            <option value="gemini">Google Gemini</option>
            <option value="groq">Groq Lightning</option>
            <option value="deepseek">DeepSeek Coder</option>
            <option value="stability">Stability AI</option>
            <option value="openrouter">OpenRouter Hub</option>
          </select>
          <select id="dateFilter" style="width: 100%; margin-bottom: 6px; padding: 4px; border-radius: 4px; font-size: 12px;">
            <option value="">All Time</option>
            <option value="today">Today</option>
            <option value="week">This Week</option>
            <option value="month">This Month</option>
          </select>
          <div style="display: flex; gap: 4px;">
            <button id="showStarredBtn" style="flex: 1; padding: 4px; font-size: 11px; background: #f59e0b; color: white; border: none; border-radius: 4px;">
              <i class="fas fa-star"></i> Starred
            </button>
            <button id="clearFiltersBtn" style="flex: 1; padding: 4px; font-size: 11px; background: #6b7280; color: white; border: none; border-radius: 4px;">
              Clear
            </button>
          </div>
        </div>

        <div class="chat-history" id="chatHistory">
          <!-- Chat history will be populated here -->
        </div>
      </div>

      <div class="sidebar-bottom">
        <button class="sidebar-btn" id="settingsBtn">
          <i class="fas fa-cog"></i>
          Settings
        </button>
        <button class="sidebar-btn" id="apiKeysBtn">
          <i class="fas fa-key"></i>
          API Keys
        </button>
        <button class="sidebar-btn" id="profileBtn">
          <i class="fas fa-user"></i>
          Profile
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <div id="main">
      <!-- Header -->
      <div class="main-header">
        <div class="welcome-text">Welcome! How can I assist you today?</div>
        <div class="header-actions">
          <button class="header-btn" id="projectsBtn">
            <i class="fas fa-folder"></i>
            Projects
          </button>
          <button class="header-btn" id="threeDotBtn">
            <i class="fas fa-ellipsis-h"></i>
          </button>
        </div>
      </div>

      <!-- Welcome Screen with Quick Actions -->
      <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-message">
          <div class="avatar">
            <i class="fas fa-robot"></i>
          </div>
          <span>Hello! Ask me anything and I'll be happy to help you.</span>
        </div>

        <div class="quick-actions">
          <div class="action-card" data-action="blog">
            <div class="action-icon" style="background: #3b82f6;">
              <i class="fas fa-edit"></i>
            </div>
            <div class="action-content">
              <h3>Blog Post Writer</h3>
              <p>Create engaging blog posts and articles</p>
            </div>
          </div>

          <div class="action-card" data-action="social">
            <div class="action-icon" style="background: #8b5cf6;">
              <i class="fas fa-hashtag"></i>
            </div>
            <div class="action-content">
              <h3>Social Media Captions</h3>
              <p>Generate catchy social media content</p>
            </div>
          </div>

          <div class="action-card" data-action="image">
            <div class="action-icon" style="background: #06b6d4;">
              <i class="fas fa-image"></i>
            </div>
            <div class="action-content">
              <h3>AI Image Generator</h3>
              <p>Create stunning images with AI</p>
            </div>
          </div>

          <div class="action-card" data-action="resume">
            <div class="action-icon" style="background: #10b981;">
              <i class="fas fa-file-alt"></i>
            </div>
            <div class="action-content">
              <h3>Resume Builder</h3>
              <p>Build professional resumes</p>
            </div>
          </div>

          <div class="action-card" data-action="code">
            <div class="action-icon" style="background: #f59e0b;">
              <i class="fas fa-code"></i>
            </div>
            <div class="action-content">
              <h3>Code Generator</h3>
              <p>Generate clean, modern code</p>
            </div>
          </div>

          <div class="action-card" data-action="business">
            <div class="action-icon" style="background: #ef4444;">
              <i class="fas fa-briefcase"></i>
            </div>
            <div class="action-content">
              <h3>Business Plan</h3>
              <p>Create comprehensive business plans</p>
            </div>
          </div>

          <div class="action-card" data-action="email">
            <div class="action-icon" style="background: #84cc16;">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="action-content">
              <h3>Email Writer</h3>
              <p>Craft professional emails</p>
            </div>
          </div>

          <div class="action-card" data-action="creative">
            <div class="action-icon" style="background: #ec4899;">
              <i class="fas fa-magic"></i>
            </div>
            <div class="action-content">
              <h3>Creative Writing</h3>
              <p>Write stories, poems, and more</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat Container -->
      <div class="chat-container">
        <div class="chat-messages" id="chatMessages">
          <!-- Messages will be populated here -->
        </div>
      </div>

      <!-- Input Area with Combined AI Selection -->
      <div class="input-area">
        <div class="input-container">
          <div class="combined-input-section">
            <!-- AI Controls Row -->
            <div class="ai-controls-row">
              <label for="aiProvider">AI Provider:</label>
              <select id="aiProvider">
                <option value="openai">ðŸ¤– OpenAI GPT</option>
                <option value="gemini">âœ¨ Google Gemini</option>
                <option value="groq">âš¡ Groq Lightning</option>
                <option value="deepseek">ðŸ§  DeepSeek Coder</option>
                <option value="stability">ðŸŽ¨ Stability AI</option>
                <option value="openrouter">ðŸŒ OpenRouter Hub</option>
                <option value="smart">ðŸŽ¯ Smart Auto-Select</option>
                <option value="compare">âš”ï¸ AI Battle Mode</option>
              </select>
              
              <label for="aiModel">Model:</label>
              <select id="aiModel">
                <option value="">Default</option>
              </select>
            </div>

            <!-- Input Row -->
            <div class="input-wrapper">
              <i class="fas fa-search" style="color: var(--gray-400);"></i>
              <input 
                type="text" 
                class="input-field" 
                id="userInput"
                placeholder="Ask anything..."
              />
              <div class="input-actions">
                <button class="input-btn" id="uploadFileBtn" title="Upload document">
                  <i class="fas fa-paperclip"></i>
                </button>
                <button class="input-btn" id="uploadPhotoBtn" title="Upload photo">
                  <i class="fas fa-image"></i>
                </button>
                <button class="input-btn mic-btn" id="micBtn" title="Voice input">
                  <i class="fas fa-microphone" id="micIcon"></i>
                  <span id="micStatus" style="position: absolute; top: -8px; right: -8px; width: 12px; height: 12px; border-radius: 50%; background: #ccc; border: 2px solid white; display: none;"></span>
                </button>
              </div>
              <button class="send-btn" id="sendBtn">
                Generate
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Mobile AI Selector Button (only visible on mobile) -->
      <button class="mobile-ai-selector" id="mobileAiSelector" style="display: none;" title="Select AI Provider">
        <i class="fas fa-robot"></i>
      </button>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="fileInput" style="display: none" accept=".txt,.docx,.xlsx,.pptx,.pdf,.csv" />
    <input type="file" id="photoInput" style="display: none" accept="image/*" />

    <!-- Modals will be added here -->
    <!-- API Keys Modal -->
    <div id="apiKeysModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-key"></i> Configure API Keys</h3>
          <button class="close-btn" data-modal="apiKeysModal">&times;</button>
        </div>
        <div class="modal-body">
          <p style="color: var(--gray-600); margin-bottom: 20px; font-size: 14px;">
            <i class="fas fa-info-circle"></i>
            Add your own API keys to use the AI providers. Your keys are stored locally and never sent to our servers.
          </p>
          
          <div class="form-group">
            <label for="openaiKey">ðŸ¤– OpenAI API Key</label>
            <input type="password" id="openaiKey" placeholder="sk-proj-..." />
            <small>Get your key from: <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com</a></small>
          </div>

          <div class="form-group">
            <label for="geminiKey">âœ¨ Google Gemini API Key</label>
            <input type="password" id="geminiKey" placeholder="AIzaSy..." />
            <small>Get your key from: <a href="https://makersuite.google.com/app/apikey" target="_blank">makersuite.google.com</a></small>
          </div>

          <div class="form-group">
            <label for="groqKey">âš¡ Groq API Key</label>
            <input type="password" id="groqKey" placeholder="gsk_..." />
            <small>Get your key from: <a href="https://console.groq.com/keys" target="_blank">console.groq.com</a></small>
          </div>

          <div class="form-group">
            <label for="deepseekKey">ðŸ§  DeepSeek API Key</label>
            <input type="password" id="deepseekKey" placeholder="sk-..." />
            <small>Get your key from: <a href="https://platform.deepseek.com/api_keys" target="_blank">platform.deepseek.com</a></small>
          </div>

          <div class="form-group">
            <label for="stabilityKey">ðŸŽ¨ Stability AI API Key</label>
            <input type="password" id="stabilityKey" placeholder="sk-..." />
            <small>Get your key from: <a href="https://platform.stability.ai/account/keys" target="_blank">platform.stability.ai</a></small>
          </div>

          <div class="form-group">
            <label for="openrouterKey">ðŸŒ OpenRouter API Key</label>
            <input type="password" id="openrouterKey" placeholder="sk-or-v1-..." />
            <small>Get your key from: <a href="https://openrouter.ai/keys" target="_blank">openrouter.ai</a></small>
          </div>
        </div>
        <div class="modal-footer">
          <button id="saveApiKeysBtn" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Keys
          </button>
          <button id="clearAllKeysBtn" class="btn btn-secondary">
            <i class="fas fa-trash"></i> Clear All
          </button>
        </div>
      </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-user"></i> User Profile</h3>
          <button class="close-btn" data-modal="profileModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="userName">ðŸ‘¤ Your Name</label>
            <input type="text" id="userName" placeholder="Enter your name" />
          </div>
          
          <div class="form-group">
            <label for="businessType">ðŸ¢ Business Type</label>
            <select id="businessType">
              <option value="">Select your business type</option>
              <option value="ecommerce">E-commerce</option>
              <option value="education">Education</option>
              <option value="healthcare">Healthcare</option>
              <option value="technology">Technology</option>
              <option value="marketing">Marketing</option>
              <option value="consulting">Consulting</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="writingStyle">âœï¸ Writing Style</label>
            <select id="writingStyle">
              <option value="professional">Professional</option>
              <option value="casual">Casual</option>
              <option value="creative">Creative</option>
              <option value="technical">Technical</option>
            </select>
          </div>

          <div class="form-group">
            <label for="responseLength">ðŸ“ Response Length</label>
            <select id="responseLength">
              <option value="short">Short</option>
              <option value="medium">Medium</option>
              <option value="long">Long</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="saveProfileBtn" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Profile
          </button>
          <button id="closeProfileBtn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Projects Modal -->
    <div id="projectsModal" class="modal">
      <div class="modal-content" style="max-width: 800px;">
        <div class="modal-header">
          <h3><i class="fas fa-folder"></i> My Projects</h3>
          <button class="close-btn" data-modal="projectsModal">&times;</button>
        </div>
        <div class="modal-body">
          <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            <input type="text" id="projectSearch" placeholder="Search projects..." style="flex: 1; padding: 8px; border: 1px solid var(--gray-300); border-radius: 8px;" />
            <button id="exportAllProjectsBtn" class="btn btn-secondary">
              <i class="fas fa-download"></i> Export All
            </button>
          </div>
          <div id="projectsList">
            <!-- Dynamic projects list will be added here -->
          </div>
        </div>
        <div class="modal-footer">
          <button id="closeProjectsBtn" class="btn btn-secondary">Close</button>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-cog"></i> Settings</h3>
          <button class="close-btn" data-modal="settingsModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="themeSelect">ðŸŽ¨ Theme</label>
            <select id="themeSelect">
              <option value="light">Light Mode</option>
              <option value="dark">Dark Mode</option>
              <option value="auto">Auto (System)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="languageSelect">ðŸŒ Language</label>
            <select id="languageSelect">
              <option value="en">English</option>
              <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€ (Hindi)</option>
              <option value="es">EspaÃ±ol</option>
              <option value="fr">FranÃ§ais</option>
            </select>
          </div>

          <div class="form-group">
            <label for="autoSave">ðŸ’¾ Auto-save Conversations</label>
            <input type="checkbox" id="autoSave" checked />
            <small>Automatically save your chat history</small>
          </div>

          <div class="form-group">
            <label for="notifications">ðŸ”” Notifications</label>
            <input type="checkbox" id="notifications" />
            <small>Enable browser notifications for responses</small>
          </div>

          <div class="form-group">
            <label for="maxFileSize">ðŸ“ Max File Size (MB)</label>
            <select id="maxFileSize">
              <option value="5">5 MB</option>
              <option value="10">10 MB</option>
              <option value="25">25 MB</option>
              <option value="50">50 MB</option>
            </select>
          </div>

          <div class="form-group">
            <label for="defaultProvider">ðŸ¤– Default AI Provider</label>
            <select id="defaultProvider">
              <option value="openai">OpenAI GPT</option>
              <option value="gemini">Google Gemini</option>
              <option value="groq">Groq Lightning</option>
              <option value="deepseek">DeepSeek Coder</option>
              <option value="openrouter">OpenRouter Hub</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button id="saveSettingsBtn" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Settings
          </button>
          <button id="resetSettingsBtn" class="btn btn-secondary">
            <i class="fas fa-undo"></i> Reset to Default
          </button>
        </div>
      </div>
    </div>

    <!-- Chat Search Modal -->
    <div id="chatSearchModal" class="modal">
      <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header">
          <h3><i class="fas fa-search"></i> Search Chats</h3>
          <button class="close-btn" data-modal="chatSearchModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <input type="text" id="chatSearchInput" placeholder="Search in chat messages..." style="width: 100%; padding: 12px; font-size: 14px;" />
          </div>
          <div id="searchResults" style="max-height: 400px; overflow-y: auto;">
            <!-- Search results will appear here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Chat Edit Modal -->
    <div id="chatEditModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3><i class="fas fa-edit"></i> Edit Chat</h3>
          <button class="close-btn" data-modal="chatEditModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="editChatTitle">Chat Title</label>
            <input type="text" id="editChatTitle" placeholder="Enter chat title..." />
          </div>
          <div class="form-group">
            <label for="editChatTags">Tags (comma separated)</label>
            <input type="text" id="editChatTags" placeholder="work, project, important..." />
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="editChatStarred" /> 
              <i class="fas fa-star" style="color: #f59e0b;"></i> Mark as Important
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button id="saveChatEditBtn" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Changes
          </button>
          <button id="deleteChatBtn" class="btn" style="background: #ef4444; color: white;">
            <i class="fas fa-trash"></i> Delete Chat
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile AI Selector Modal -->
    <div id="mobileAiModal" class="modal">
      <div class="modal-content" style="max-width: 400px;">
        <div class="modal-header">
          <h3><i class="fas fa-robot"></i> Select AI Provider</h3>
          <button class="close-btn" data-modal="mobileAiModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="mobileAiProvider">Choose AI Provider:</label>
            <select id="mobileAiProvider" style="width: 100%; padding: 12px; font-size: 15px; border-radius: 10px;">
              <option value="openai">ðŸ¤– OpenAI GPT</option>
              <option value="gemini">âœ¨ Google Gemini</option>
              <option value="groq">âš¡ Groq Lightning</option>
              <option value="deepseek">ðŸ§  DeepSeek Coder</option>
              <option value="stability">ðŸŽ¨ Stability AI</option>
              <option value="openrouter">ðŸŒ OpenRouter Hub</option>
            </select>
          </div>
          <p style="font-size: 13px; color: var(--gray-600); margin-top: 12px;">
            <i class="fas fa-info-circle"></i> Make sure you've added your API key in Settings
          </p>
        </div>
        <div class="modal-footer">
          <button id="saveMobileAiBtn" class="btn btn-primary">
            <i class="fas fa-check"></i> Select
          </button>
        </div>
      </div>
    </div>

    <!-- Three Dot Menu Modal -->
    <div id="threeDotModal" class="modal">
      <div class="modal-content" style="max-width: 300px;">
        <div class="modal-header">
          <h3><i class="fas fa-ellipsis-h"></i> More Options</h3>
          <button class="close-btn" data-modal="threeDotModal">&times;</button>
        </div>
        <div class="modal-body">
          <div style="display: flex; flex-direction: column; gap: 8px;">
            <button id="exportChatBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-download"></i> Export Chat
            </button>
            <button id="importChatBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-upload"></i> Import Chat
            </button>
            <button id="clearAllDataBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-trash"></i> Clear All Data
            </button>
            <button id="showShortcutsBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-keyboard"></i> Keyboard Shortcuts
            </button>
            <button id="testMicrophoneBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-microphone"></i> Test Microphone
            </button>
            <button id="testStorageBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-database"></i> Test Storage
            </button>
            <button id="showAboutBtn" class="btn btn-secondary" style="justify-content: flex-start;">
              <i class="fas fa-info-circle"></i> About
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- External JavaScript -->
    <script src="script.js"></script>
  </body>
</html>
